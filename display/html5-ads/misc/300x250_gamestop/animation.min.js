var maintl;!function(){function t(){p.progress(this.x/this.maxX)}function e(){document.querySelector(".scrubber")._gsTransform.x<2*c+20&&TweenMax.to(".scrubber",.45,{x:"+="+c,onUpdate:r,onComplete:r})}function o(){document.querySelector(".scrubber")._gsTransform.x>c-10&&TweenMax.to(".scrubber",.45,{x:"-="+c,onUpdate:r,onComplete:r})}function r(){var t=Draggable.get(".scrubber");t.update(!0),p.progress(t.x/t.maxX)}function a(){n&&(console.log("stopped autoplay"),n=!1,TweenMax.killDelayedCallsTo(u))}function u(){n&&TweenMax.to(".scrubber",.4,{delay:2,x:16,onComplete:function(){TweenMax.to(".scrubber",.9,{x:0,ease:Elastic.easeOut})}})}maintl=new TimelineMax,maintl.add("frame0").to(".stage",.05,{autoAlpha:1},"frame0").seek(0),TweenMax.set(".slash",{transformOrigin:"50% 50%",rotation:-15}),TweenMax.set(".ctaOver",{autoAlpha:0});var c=69;Draggable.create(".scrubber",{type:"x",edgeResistance:1,throwProps:!0,bounds:{left:27,width:248},throwResistance:900,snap:{x:function(t){return Math.round(t/c)*c}},onDrag:t,onThrowUpdate:t});var p=new TimelineMax;p.add("product1",0).to(".product-wrapper1",.5,{autoAlpha:0,x:-30},"product1+=.4").to(".producttext-1 .product, .cta1",.5,{autoAlpha:0,x:-30},"product1+=.4").to(".bg1",.5,{autoAlpha:0},"product1+=.4").to(".producttext-1 .description",.5,{autoAlpha:0,x:-30},"product1+=.35").to(".producttext-1 .priceslash, .producttext-1 .slash",.45,{autoAlpha:0,x:-30},"product1+=.4").to(".producttext-1 .from",.5,{autoAlpha:0,y:20},"product1+=.6").to(".producttext-1 .price",.5,{autoAlpha:0,y:20},"product1+=.6").add("product2",1.2).from(".producttext-2 .price",.5,{autoAlpha:0,y:20},"product2-=.45").from(".producttext-2 .from",.5,{autoAlpha:0,y:20},"product2-=.45").from(".producttext-2 .priceslash, .producttext-2 .slash",.5,{autoAlpha:0,x:30},"product2-=.4").from(".producttext-2 .product, .cta2",.5,{autoAlpha:0,x:30},"product2-=.45").from(".producttext-2 .description",.5,{autoAlpha:0,x:30},"product2-=.4").from(".bg2",.5,{autoAlpha:0},"product2-=.4").from(".product-wrapper2",.5,{autoAlpha:0,x:30},"product2-=.4").to(".product-wrapper2",.5,{autoAlpha:0,x:-30},"product2+=.4").to(".producttext-2 .product, .cta2",.5,{autoAlpha:0,x:-30},"product2+=.4").to(".bg2",.5,{autoAlpha:0},"product2+=.4").to(".producttext-2 .description",.5,{autoAlpha:0,x:-30},"product2+=.35").to(".producttext-2 .priceslash, .producttext-2 .slash",.45,{autoAlpha:0,x:-30},"product2+=.4").to(".producttext-2 .from",.5,{autoAlpha:0,y:20},"product2+=.45").to(".producttext-2 .price",.5,{autoAlpha:0,y:20},"product2+=.45").add("product3",2.4).from(".producttext-3 .price",.5,{autoAlpha:0,y:20},"product3-=.45").from(".producttext-3 .from",.5,{autoAlpha:0,y:20},"product3-=.45").from(".producttext-3 .priceslash, .producttext-3 .slash",.45,{autoAlpha:0,x:30},"product3-=.4").from(".producttext-3 .product, .cta3",.5,{autoAlpha:0,x:30},"product3-=.45").from(".bg3",.5,{autoAlpha:0},"product3-=.45").from(".producttext-3 .description",.5,{autoAlpha:0,x:30},"product3-=.4").from(".product-wrapper3",.5,{autoAlpha:0,x:30},"product3-=.4").to(".product-wrapper3",.5,{autoAlpha:0,x:-30},"product3+=.4").to(".producttext-3 .product, .cta3",.5,{autoAlpha:0,x:-30},"product3+=.4").to(".bg3",.5,{autoAlpha:0},"product3+=.4").to(".producttext-3 .description",.5,{autoAlpha:0,x:-30},"product3+=.35").to(".producttext-3 .priceslash, .producttext-3 .slash",.25,{autoAlpha:0,x:-30},"product3+=.4").to(".producttext-3 .from",.5,{autoAlpha:0,y:20},"product3+=.45").to(".producttext-3 .price",.5,{autoAlpha:0,y:20},"product3+=.45").to(".bg3",.5,{autoAlpha:1},"product3+=.4").add("product4",3.6).from(".producttext-4 .price",.5,{autoAlpha:0,y:20},"product4-=.45").from(".producttext-4 .from",.5,{autoAlpha:0,y:20},"product4-=.45").from(".producttext-4 .priceslash, .producttext-4 .slash",.5,{autoAlpha:0,x:30},"product4-=.4").from(".producttext-4 .product, .cta4",.5,{autoAlpha:0,x:30},"product4-=.4").from(".bg4",.5,{autoAlpha:0},"product4-=.4").from(".producttext-4 .description",.5,{autoAlpha:0,x:30},"product4-=.35").from(".product-wrapper4",.5,{autoAlpha:0,x:30},"product4-=.4").seek(0).stop();var d={touches:{touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},touchHandler:function(t){var r;if("undefined"!=typeof t&&(t.preventDefault(),"undefined"!=typeof t.touches))switch(r=t.touches[0],t.type){case"touchstart":case"touchmove":d.touches[t.type].x=r.pageX,d.touches[t.type].y=r.pageY;break;case"touchend":d.touches[t.type]=!0,d.touches.touchstart.x>-1&&d.touches.touchmove.x>-1&&(d.touches.direction=d.touches.touchstart.x<d.touches.touchmove.x?"right":"left","right"==d.touches.direction?o():e(),console.log(d.touches.direction))}},init:function(){document.querySelector(".product-swipe ").addEventListener("touchstart",d.touchHandler,!1),document.querySelector(".product-swipe ").addEventListener("touchmove",d.touchHandler,!1),document.querySelector(".product-swipe ").addEventListener("touchend",d.touchHandler,!1)}};document.querySelector(".right-arrow").addEventListener("click",e,!1),document.querySelector(".left-arrow").addEventListener("click",o,!1),d.init(),document.querySelector(".ctaContainer1").addEventListener("mouseover",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".ctaContainer1").addEventListener("mouseout",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:0,ease:Power2.easeOut})}),document.querySelector(".ctaContainer2").addEventListener("mouseover",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".ctaContainer2").addEventListener("mouseout",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:0,ease:Power2.easeOut})}),document.querySelector(".ctaContainer3").addEventListener("mouseover",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".ctaContainer3").addEventListener("mouseout",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:0,ease:Power2.easeOut})}),document.querySelector(".ctaContainer4").addEventListener("mouseover",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:1,ease:Power2.easeOut})}),document.querySelector(".ctaContainer4").addEventListener("mouseout",function(){TweenMax.to(".ctaOver",.4,{autoAlpha:0,ease:Power2.easeOut})}),TweenMax.from(".scrubber",2,{x:270,ease:Power0.easeNone,onUpdate:r,onComplete:r});var n=!0;document.querySelector(".banner").addEventListener("touchstart",a),document.querySelector(".banner").addEventListener("mousemove",a);for(var s=1;s<100;s++)TweenMax.delayedCall(4*s,u)}();