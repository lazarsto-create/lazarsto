var maintl,namesArray=["Brad","Cindy","CJ","Melissa","Susan","Dennis","Freddy","Rebecca","Ryan","Audrie","Ra","Anna","Kirk","Kathy","Mae","Devin","Jeremy","Amber","Tristan","Sierra","Benji","Annabelle","Josie","Legend","Captain","Trey","Caleb","Mike"],currentNamesArray=[];TweenMax.set(".make-another-can-button",{autoAlpha:0}),function(){function e(e){if(v.offsetWidth>120){var n=120/v.offsetWidth;TweenMax.set(v,{scale:n,transformOrigin:"0% 50%"})}else TweenMax.set(v,{scale:1,transformOrigin:"0% 50%"});if(null!=e){var a=window.event?window.event:e;"13"==a.keyCode&&s()}}function n(){console.log("clearInstructions called"),v.removeEventListener("focus",n),v.innerHTML="",TweenMax.delayedCall(.1,t),v.addEventListener("focusout",r),h.className="submit-button enabled",h.addEventListener("click",s)}function a(e){var n=document.createRange();n.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(n)}function t(){console.log("focusOnText called"),v.innerHTML="",y.focus(),a(y)}function r(){console.log("checkInstructions called"),""!=v.innerHTML||(h.className="submit-button",v.addEventListener("focus",n),v.innerHTML="Enter a name...")}function o(){if(M.innerHTML=v.innerHTML,M.offsetWidth>105){var e=105/M.offsetWidth;TweenMax.set(M,{scale:e,transformOrigin:"0% 50%"})}else TweenMax.set(M,{width:110})}function s(){console.log("nameInput.innerHTML: "+v.innerHTML),""==v.innerHTML||"Enter a name..."==v.innerHTML?console.log("NEEDS NAME"):(h.removeEventListener("click",s),v.removeEventListener("keydown",e),b.seek(0).play())}function i(){h.className="submit-button";var e=new TimelineMax;e.add("resetFrame1").to(".buy-your-personalized-can, .hash-tag, .buy-now-button, .make-another-can-button",.5,{autoAlpha:0},"resetFrame1").to(".can-0",.65,{y:600,ease:Power2.easeIn,delay:.5},"resetFrame1").set(".enterName, .input-box",{y:0},"resetFrame1+=1").to(".personalize-your-own-can, .enterName, .input-box",.5,{autoAlpha:1,onStart:c},"resetFrame1+=1.1").seek(0),l()}function c(){if(console.log("starting over"),v.addEventListener("keydown",e),v.innerHTML="",v.innerHTML="Enter a name...",v.offsetWidth>120){var a=120/v.offsetWidth;TweenMax.set(v,{scale:a,transformOrigin:"0% 50%"})}else TweenMax.set(v,{scale:1,transformOrigin:"0% 50%"});v.addEventListener("focus",n),M.innerHTML="",b.seek(0).pause(),maintl.seek(.2).play()}function l(){for(var e=namesArray.slice(0),n=[],a=0;a<4;a++){var t=Math.floor(Math.random()*e.length),r=e.splice(t,1);n.push(r)}var o=document.querySelector(".can-text1");o.innerHTML=n[0];var s=document.querySelector(".can-text2");s.innerHTML=n[1];var i=document.querySelector(".can-text3");i.innerHTML=n[2]}maintl=new TimelineMax,maintl.add("frame0",.01).set(".buy-your-personalized-can, .hash-tag, .buy-now-button",{autoAlpha:0},"frame0").to(".stage",.2,{autoAlpha:1,onStart:e},"frame0").add("frame1","+=.5").staggerFrom(".can-3, .can-2, .can-1",.5,{y:-384,ease:Power1.easeIn},.1,"frame1").set(".can-0",{y:-100},"frame1").seek(0);for(var u=document.querySelectorAll(".can-text"),m=0;m<u.length;m++){var d=u[m];if(d.offsetWidth>105){var f=105/d.offsetWidth;TweenMax.set(d,{scale:f,transformOrigin:"0% 50%"})}else TweenMax.set(d,{width:110})}var y=document.getElementById("nameItBox"),v=document.querySelector(".enterName");v.addEventListener("focus",n),v.addEventListener("keydown",e);var h=document.querySelector(".submit-button"),M=document.querySelector(".can-0 .can-text"),b=new TimelineMax;b.add("frame0").to(".can-1, .can-2, .can-3",.5,{y:400,ease:Power1.easeIn},"frame0").to(".personalize-your-own-can, .submit-button",.5,{autoAlpha:0},"frame0").to(".can-0",1,{y:216,ease:Back.easeOut},"frame0+=.3").to(".can-0",.5,{rotation:-90,scale:1.3,tranformOrigin:"50% 50%",force3D:!0},"frame0+=.8").to(".enterName, .input-box",1,{y:200,ease:Back.easeOut},"frame0+=.3").to(".enterName, .input-box",.25,{autoAlpha:0,onUpdate:o},"frame0").add("frame1").to(".buy-your-personalized-can, .hash-tag, .buy-now-button, .make-another-can-button",.5,{autoAlpha:1,scale:1},"frame1").seek(0).pause();var w=document.querySelector(".make-another-can-button");w.addEventListener("click",i),l()}();